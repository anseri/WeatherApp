<div *ngIf="locationDetails" class="container my-4">
  <h2 class="text-center">Location Details</h2>
  <div class="row mb-4">
    <div class="col-md-3"><strong>Latitude:</strong> {{ locationDetails.latitude }}</div>
    <div class="col-md-3"><strong>Longitude:</strong> {{ locationDetails.longitude }}</div>
    <div class="col-md-3"><strong>Elevation:</strong> {{ locationDetails.elevation }} meters</div>
    <div class="col-md-3"><strong>Timezone:</strong> {{ locationDetails.timezone }}</div>
  </div>
  
  <h3 class="text-center">Weather Forecast</h3>
  <div class="row">
    <div class="col-md-6">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Date</th>
              <th>Max Temp</th>
              <th>Min Temp</th>
              <th>Sunrise</th>
              <th>Sunset</th>
              <th>Rain</th>
              <th>Wind Speed</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let day of locationDetails.daily.time; let i = index">
              <td>
                <!-- <a (click)="locationHours(locationDetails.latitude, locationDetails.longitude, true, day)" [routerLinkActive]="['router-is-active']">{{ day }}</a>
              </td> -->
              <a [routerLink]="['/location-detail', locationDetails.latitude, locationDetails.longitude, true, day]">
                {{ day }}
              </a>
              <td>{{ locationDetails.daily.temperature_2m_max[i] }}°C</td>
              <td>{{ locationDetails.daily.temperature_2m_min[i] }}°C</td>
              <td>{{ locationDetails.daily.sunrise[i] }}</td>
              <td>{{ locationDetails.daily.sunset[i] }}</td>
              <td>{{ locationDetails.daily.rain_sum[i] }} mm</td>
              <td>{{ locationDetails.daily.wind_speed_10m_max[i] }} km/h</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div class="col-md-6">
      <canvas baseChart
              [datasets]="lineChartData"
              [labels]="lineChartLabels"
              [options]="lineChartOptions"
              [type]="lineChartType">
      </canvas>
    </div>
  </div>
</div>

<div *ngIf="locationDetailsHour" class="container my-4">
  <h2 class="text-center">Location Details By Hour</h2>
  <div class="row mb-4">
    <div class="col-md-3"><strong>Latitude:</strong> {{ locationDetailsHour.latitude }}</div>
    <div class="col-md-3"><strong>Longitude:</strong> {{ locationDetailsHour.longitude }}</div>
    <div class="col-md-3"><strong>Elevation:</strong> {{ locationDetailsHour.elevation }} meters</div>
    <div class="col-md-3"><strong>Timezone:</strong> {{ locationDetailsHour.timezone }}</div>
    <div class="col-md-3"><strong>Timezone Abbreviation:</strong> {{ locationDetailsHour.timezone_abbreviation }}</div>
  </div>
  
  <h3 class="text-center">Hourly Weather Forecast</h3>
  <div class="row">
    <div class="col-md-6">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Time</th>
              <th>Temperature (2m)</th>
              <th>Rain (mm)</th>
              <th>Wind Speed (10m)</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let time of locationDetailsHour.hourly.time; let i = index">
              <td>{{ time }}</td>
              <td>{{ locationDetailsHour.hourly.temperature_2m[i] }} {{ locationDetailsHour.hourly_units.temperature_2m }}</td>
              <td>{{ locationDetailsHour.hourly.rain[i] }} {{ locationDetailsHour.hourly_units.rain }}</td>
              <td>{{ locationDetailsHour.hourly.wind_speed_10m[i] }} {{ locationDetailsHour.hourly_units.wind_speed_10m }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div class="col-md-6">
      <canvas baseChart
              [datasets]="lineChartData"
              [labels]="lineChartLabels"
              [options]="lineChartOptions"
              [type]="lineChartType">
      </canvas>
    </div>
  </div>
</div>
